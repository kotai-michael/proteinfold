/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Nextflow config file for databases links
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Defines pointers to the DBS publicly available that store models parametrisations
    and data.
----------------------------------------------------------------------------------------
*/
params {

    // AlphaFold2 links
<<<<<<< HEAD
    bfd               = 'https://storage.googleapis.com/alphafold-databases/casp14_versions/bfd_metaclust_clu_complete_id30_c90_final_seq.sorted_opt.tar.gz'
    small_bfd         = 'https://storage.googleapis.com/alphafold-databases/reduced_dbs/bfd-first_non_consensus_sequences.fasta.gz'
    alphafold2_params = 'https://storage.googleapis.com/alphafold/alphafold_params_2022-03-02.tar'
    mgnify            = 'https://storage.googleapis.com/alphafold-databases/casp14_versions/mgy_clusters_2018_12.fa.gz'
    pdb70             = 'http://wwwuser.gwdg.de/~compbiol/data/hhsuite/databases/hhsuite_dbs/old-releases/pdb70_from_mmcif_200916.tar.gz'
    pdb_mmcif         = 'rsync.rcsb.org::ftp_data/structures/divided/mmCIF/' //'rsync.rcsb.org::ftp_data/structures/divided/mmCIF/' ftp.pdbj.org::ftp_data/structures/divided/mmCIF/ rsync.ebi.ac.uk::pub/databases/pdb/data/structures/divided/mmCIF/
    pdb_obsolete      = 'ftp://ftp.wwpdb.org/pub/pdb/data/status/obsolete.dat'
    uniclust30        = 'https://storage.googleapis.com/alphafold-databases/casp14_versions/uniclust30_2018_08_hhsuite.tar.gz'
    uniref90          = 'ftp://ftp.uniprot.org/pub/databases/uniprot/uniref/uniref90/uniref90.fasta.gz'
    pdb_seqres        = 'ftp://ftp.wwpdb.org/pub/pdb/derived_data/pdb_seqres.txt'
    uniprot_sprot     = 'ftp://ftp.ebi.ac.uk/pub/databases/uniprot/current_release/knowledgebase/complete/uniprot_sprot.fasta.gz'
    uniprot_trembl    = 'ftp://ftp.ebi.ac.uk/pub/databases/uniprot/current_release/knowledgebase/complete/uniprot_trembl.fasta.gz'
    
    bfd_name           = params.bfd_prefix ?: 'bfd'
    smallbfd_name      = params.smallbfd_prefix ?: 'smallbfd'
    mgnify_name        = params.mgnify_prefix ?: 'mgnify'
    pdb70_name         = params.pdb70_prefix ?: 'pdb70'
    pdb_mmcif_name     = params.pdb_mmcif_prefix ?: 'pdb_mmcif'
    uniclust30_name    = params.uniclust30_prefix ?: 'uniclust30'
    uniref90_name      = params.uniref90_prefix ?: 'uniref90'
    pdb_seqres_name    = params.pdb_seq_prefix ?: 'pdb_seqres'
    uniprot_name       = params.uniprot_prefix ?: 'uniprot'
    alphafold_params_name = params.alphafold_params_prefix ?: 'params/alphafold_params_*'
    mmcif_files_name   = params.mmcif_path ?: 'pdb_mmcif/mmcif_files/'
    mmcif_obsolete_name = params.mmcif_obsolete ?: 'pdb_mmcif/obsolete.dat'

    uniclust30_db_name = params.uniclust30_db ?: 'uniclust30_2018_08'
    bfd_first_non_consensus_sequences_name = params.bfd_first_non_consensus_sequences ?: 'bfd-first_non_consensus_sequences.fasta' 
    uniprot_fasta_name = params.uniprot_fasta ?: 'uniprot.fasta'
    pdb_seqres_txt_name = params.pdb_seqres_txt ?: 'pdb_seqres.txt'
    bfd_metaclust_clu_complete_id30_c90_final_seq_sorted_opt_name = params.bfd_metaclust_clu_complete_id30_c90_final_seq_sorted_opt ?: 'bfd_metaclust_clu_complete_id30_c90_final_seq.sorted_opt'
    uniref90_fasta_name = params.uniref90_fasta ?: 'uniref90.fasta'
    mgy_clusters_fasta_name = params.mgy_clusters_fasta ?: 'mgy_clusters_2022_05.fa'
    

    // Alphafold paths
    bfd_path               = "${params.alphafold2_db}/${bfd_name}/*"
    small_bfd_path         = "${params.alphafold2_db}/${smallbfd_name}/*"
    //alphafold2_params_path = "${params.alphafold2_db}/alphafold_params_*/*"
    //alphafold2_params_path = "${params.alphafold2_db}/params/*"
    alphafold2_params_path = "${params.alphafold2_db}/${alphafold_params_name}/*"
    mgnify_path            = "${params.alphafold2_db}/${mgnify_name}/*"
    pdb70_path             = "${params.alphafold2_db}/${pdb70_name}/**"
    pdb_mmcif_path         = "${params.alphafold2_db}/${pdb_mmcif_name}/**"
    //uniclust30_path        = "${params.alphafold2_db}/uniclust30/**"
    //uniclust30_path        = "/srv/scratch/sbf/uniclust30/**"
    uniclust30_path        = "${params.alphafold2_db}/${uniclust30_name}/**"
    uniref90_path          = "${params.alphafold2_db}/${uniref90_name}/*"
    pdb_seqres_path        = "${params.alphafold2_db}/${pdb_seqres_name}/*"
    uniprot_path           = "${params.alphafold2_db}/${uniprot_name}/*"

    // Alphafold variables
    //bfd_variable               = "${params.alphafold2_db}/bfd/"
    bfd_dir_path               = "${params.alphafold2_db}/${bfd_name}/"
    //small_bfd_variable         = "${params.alphafold2_db}/smallbfd/"
    small_bfd_dir_path         = "${params.alphafold2_db}/${smallbfd_name}/"
    //mgnify_variable            = "${params.alphafold2_db}/mgnify/"
    mgnify_dir_path            = "${params.alphafold2_db}/${mgnify_name}/"
    //pdb70_variable             = "${params.alphafold2_db}/pdb70/"
    pdb70_dir_path             = "${params.alphafold2_db}/${pdb70_name}/"
    //pdb_mmcif_variable         = "${params.alphafold2_db}/pdb_mmcif/"
    pdb_mmcif_dir_path         = "${params.alphafold2_db}/${pdb_mmcif_name}/"
    //uniclust30_variable        = "${params.alphafold2_db}/uniclust30/"
    //uniclust30_variable        = "/srv/scratch/sbf/uniclust30/"
    uniclust30_dir_path        = "${params.alphafold2_db}/${uniclust30_name}/"
    //uniref90_variable          = "${params.alphafold2_db}/uniref90/"
    uniref90_dir_path          = "${params.alphafold2_db}/${uniref90_name}/"
    //pdb_seqres_variable        = "${params.alphafold2_db}/pdb_seqres/"
    pdb_seqres_dir_path        = "${params.alphafold2_db}/${pdb_seqres_name}/"
    //uniprot_variable           = "${params.alphafold2_db}/uniprot/"
    uniprot_dir_path           = "${params.alphafold2_db}/${uniprot_name}/"

    // Alphafold MSA Variables
    mgnify_database_path       = "${params.alphafold2_db}/${mgnify_name}/"
    //template_mmcif_dir         = "${params.alphafold2_db}/pdb_mmcif/mmcif_files/"
    template_mmcif_dir         = "${params.alphafold2_db}/${mmcif_files_name}/"
    //obsolete_pdbs_path         = "${params.alphafold2_db}/pdb_mmcif/obsolete.dat"
    obsolete_pdbs_path         = "${params.alphafold2_db}/${mmcif_obsolete_name}"
=======
    bfd_link                 = 'https://storage.googleapis.com/alphafold-databases/casp14_versions/bfd_metaclust_clu_complete_id30_c90_final_seq.sorted_opt.tar.gz'
    small_bfd_link           = 'https://storage.googleapis.com/alphafold-databases/reduced_dbs/bfd-first_non_consensus_sequences.fasta.gz'
    alphafold2_params_link   = 'https://storage.googleapis.com/alphafold/alphafold_params_2022-12-06.tar'
    mgnify_link              = 'https://storage.googleapis.com/alphafold-databases/v2.3/mgy_clusters_2022_05.fa.gz'
    pdb70_link               = 'http://wwwuser.gwdg.de/~compbiol/data/hhsuite/databases/hhsuite_dbs/old-releases/pdb70_from_mmcif_200916.tar.gz'
    pdb_mmcif_link           = 'rsync.rcsb.org::ftp_data/structures/divided/mmCIF/' //Other sources available: 'rsync.rcsb.org::ftp_data/structures/divided/mmCIF/' ftp.pdbj.org::ftp_data/structures/divided/mmCIF/ rsync.ebi.ac.uk::pub/databases/pdb/data/structures/divided/mmCIF/
    pdb_obsolete_link        = 'https://files.wwpdb.org/pub/pdb/data/status/obsolete.dat'
    uniref30_alphafold2_link = 'https://storage.googleapis.com/alphafold-databases/v2.3/UniRef30_2021_03.tar.gz'
    uniref90_link            = 'https://ftp.ebi.ac.uk/pub/databases/uniprot/uniref/uniref90/uniref90.fasta.gz'
    pdb_seqres_link          = 'https://files.wwpdb.org/pub/pdb/derived_data/pdb_seqres.txt'
    uniprot_sprot_link       = 'https://ftp.ebi.ac.uk/pub/databases/uniprot/current_release/knowledgebase/complete/uniprot_sprot.fasta.gz'
    uniprot_trembl_link      = 'https://ftp.ebi.ac.uk/pub/databases/uniprot/current_release/knowledgebase/complete/uniprot_trembl.fasta.gz'

    // Alphafold paths
    bfd_path                 = "${params.alphafold2_db}/bfd/*"
    small_bfd_path           = "${params.alphafold2_db}/small_bfd/*"
    alphafold2_params_path   = "${params.alphafold2_db}/alphafold_params_*/*"
    mgnify_path              = "${params.alphafold2_db}/mgnify/*"
    pdb70_path               = "${params.alphafold2_db}/pdb70/**"
    pdb_mmcif_path           = "${params.alphafold2_db}/pdb_mmcif/*"
    uniref30_alphafold2_path = "${params.alphafold2_db}/uniref30/*"
    uniref90_path            = "${params.alphafold2_db}/uniref90/*"
    pdb_seqres_path          = "${params.alphafold2_db}/pdb_seqres/*"
    uniprot_path             = "${params.alphafold2_db}/uniprot/*"
>>>>>>> master

    // Colabfold links
    colabfold_db_link       = 'http://wwwuser.gwdg.de/~compbiol/colabfold/colabfold_envdb_202108.tar.gz'
    uniref30_colabfold_link = 'https://wwwuser.gwdg.de/~compbiol/colabfold/uniref30_2302.tar.gz'

    // Colabfold paths
    colabfold_db_path                = "${params.colabfold_db}/colabfold_envdb_202108"
    uniref30_colabfold_path          = "${params.colabfold_db}/uniref30_2302"
    colabfold_alphafold2_params_tags = [
        "alphafold2_multimer_v1" : "alphafold_params_colab_2021-10-27",
        "alphafold2_multimer_v2" : "alphafold_params_colab_2022-03-02",
        "alphafold2_multimer_v3" : "alphafold_params_colab_2022-12-06",
        "alphafold2_ptm"         : "alphafold_params_2021-07-14"
    ]

<<<<<<< HEAD
    // RoseTTAFold links
	uniref30              = 'http://wwwuser.gwdg.de/~compbiol/uniclust/2020_06/UniRef30_2020_06_hhsuite.tar.gz'
    pdb100                = 'https://files.ipd.uw.edu/pub/RoseTTAFold/pdb100_2021Mar03.tar.gz'
    RFAA_paper_weights    = 'http://files.ipd.uw.edu/pub/RF-All-Atom/weights/RFAA_paper_weights.pt'

    // RoseTTAFold paths
    uniref30_variable              = "${params.rosettafold_all_atom_db}/uniref30/"
    pdb100_path                = "${params.rosettafold_all_atom_db}/pdb100/"
    bfd_variable                   = "${params.rosettafold_all_atom_db}/bfd/"
    RFAA_paper_weights_variable    = ""
    blast_path                     = "/srv/scratch/z5378336/apptainers/blast-2.2.26/data"
=======
    // Esmfold links
    esmfold_3B_v1                        = 'https://dl.fbaipublicfiles.com/fair-esm/models/esmfold_3B_v1.pt'
    esm2_t36_3B_UR50D                    = 'https://dl.fbaipublicfiles.com/fair-esm/models/esm2_t36_3B_UR50D.pt'
    esm2_t36_3B_UR50D_contact_regression = 'https://dl.fbaipublicfiles.com/fair-esm/regression/esm2_t36_3B_UR50D-contact-regression.pt'

    // Esmfold paths
    esmfold_params_path                         = "${params.esmfold_db}/*"
>>>>>>> master
}
